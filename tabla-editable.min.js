function tablaEditable(M,t){var i=$("<table/>"),a=[];if($(i).addClass("myT"),$(t).append(i),M.length>0){var d=$("<tr/>");$(i).append(d),$(Object.keys(M[0])).each(function(){var M=$("<th/>");$(M).html(this),$(d).append(M),a.push(this.toString().replace(/ /g,"_"))}),$(d).append("<th></th><th></th>")}$(M).each(function(){var M=$("<tr onclick='selectRow(this);'/>");$(i).append(M);var t=0;$(Object.values(this)).each(function(){var i=$("<td id='"+a[t]+"'/>");t+=1,$(i).html(this),$(M).append(i)});$(M).append("<td><a href='#' onclick='Editar(this);'><img src='data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCAzMDAgMzAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMDAgMzAwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTE0OS45OTYsMEM2Ny4xNTcsMCwwLjAwMSw2Ny4xNjEsMC4wMDEsMTQ5Ljk5N1M2Ny4xNTcsMzAwLDE0OS45OTYsMzAwczE1MC4wMDMtNjcuMTYzLDE1MC4wMDMtMTUwLjAwMyAgICBTMjMyLjgzNSwwLDE0OS45OTYsMHogTTIyMS4zMDIsMTA3Ljk0NWwtMTQuMjQ3LDE0LjI0N2wtMjkuMDAxLTI4Ljk5OWwtMTEuMDAyLDExLjAwMmwyOS4wMDEsMjkuMDAxbC03MS4xMzIsNzEuMTI2ICAgIGwtMjguOTk5LTI4Ljk5Nkw4NC45MiwxODYuMzI4bDI4Ljk5OSwyOC45OTlsLTcuMDg4LDcuMDg4bC0wLjEzNS0wLjEzNWMtMC43ODYsMS4yOTQtMi4wNjQsMi4yMzgtMy41ODIsMi41NzVsLTI3LjA0Myw2LjAzICAgIGMtMC40MDUsMC4wOTEtMC44MTcsMC4xMzUtMS4yMjQsMC4xMzVjLTEuNDc2LDAtMi45MS0wLjU4MS0zLjk3My0xLjY0N2MtMS4zNjQtMS4zNTktMS45MzItMy4zMjItMS41MTItNS4yMDNsNi4wMjctMjcuMDM1ICAgIGMwLjM0LTEuNTE3LDEuMjg2LTIuNzk4LDIuNTc4LTMuNTgybC0wLjEzNy0wLjEzN0wxOTIuMyw3OC45NDFjMS42NzgtMS42NzUsNC40MDQtMS42NzUsNi4wODIsMC4wMDVsMjIuOTIyLDIyLjkxNyAgICBDMjIyLjk4MiwxMDMuNTQxLDIyMi45ODIsMTA2LjI2NywyMjEuMzAyLDEwNy45NDV6IiBmaWxsPSIjOTFEQzVBIi8+Cgk8L2c+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg=='/></a></td><td><a onclick='confirmBorrar();' href='#'><img src='data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTguMS4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDI3Ljk2NSAyNy45NjUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI3Ljk2NSAyNy45NjU7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4Ij4KPGc+Cgk8ZyBpZD0iYzE0Ml94Ij4KCQk8cGF0aCBkPSJNMTMuOTgsMEM2LjI1OSwwLDAsNi4yNjEsMCwxMy45ODNjMCw3LjcyMSw2LjI1OSwxMy45ODIsMTMuOTgsMTMuOTgyYzcuNzI1LDAsMTMuOTg1LTYuMjYyLDEzLjk4NS0xMy45ODIgICAgQzI3Ljk2NSw2LjI2MSwyMS43MDUsMCwxMy45OCwweiBNMTkuOTkyLDE3Ljc2OWwtMi4yMjcsMi4yMjRjMCwwLTMuNTIzLTMuNzgtMy43ODYtMy43OGMtMC4yNTksMC0zLjc4MywzLjc4LTMuNzgzLDMuNzggICAgbC0yLjIyOC0yLjIyNGMwLDAsMy43ODQtMy40NzIsMy43ODQtMy43ODFjMC0wLjMxNC0zLjc4NC0zLjc4Ny0zLjc4NC0zLjc4N2wyLjIyOC0yLjIyOWMwLDAsMy41NTMsMy43ODIsMy43ODMsMy43ODIgICAgYzAuMjMyLDAsMy43ODYtMy43ODIsMy43ODYtMy43ODJsMi4yMjcsMi4yMjljMCwwLTMuNzg1LDMuNTIzLTMuNzg1LDMuNzg3QzE2LjIwNywxNC4yMzksMTkuOTkyLDE3Ljc2OSwxOS45OTIsMTcuNzY5eiIgZmlsbD0iI0Q4MDAyNyIvPgoJPC9nPgoJPGcgaWQ9IkNhcGFfMV8xMDRfIj4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K'/></a></td>"),$(i).append(M)});var o=$("<style>input{border-radius:3px;border:1px solid #ddd;padding:5px;}input:hover{box-shadow:1px 1px 4px #acf;}.myBtn{border-radius:3px;border:1px solid #aaa;background-image:linear-gradient(to bottom,rgb(250,250,250)0%,#bbb 100%);text-decoration:none;padding:5px;margin:5px;color:#555;text-shadow:1px 1px 0 #eee;}.myBtn:hover{box-shadow:1px 1px 3px #58f;text-shadow:1px 1px 0 #acf;}.myT{border-collapse:collapse;font-family:Arial;font-size:12px;}.myT tr{border:1px solid #ddd;}.myT tr:nth-child(odd){background-color:rgb(252,252,252);}.myT tr:hover{background-color:#f3ffea;color:black;}.myT tr th,.myT tr td{padding:3px;cursor:default;}.myT tr th{background-image:linear-gradient(to bottom,rgb(250,250,250) 0%,#eee 100%);text-align:left;padding:5px 3px 5px 3px;text-shadow:1px 1px 0 white;}.selected-row{background-color:#e0eeff;color:blue;}</style>"),c=$("head");$(c).append(o)}function selectRow(M){$(M).closest("table").find("tr td").removeClass("selected-row"),$(M).find("td").addClass("selected-row")}function Editar(M){var t=$(M).closest("td").closest("tr"),i=$(t).find("td"),a=$("<table/>");$(i).each(function(){if(void 0!=$(this).attr("id")){var M=$(this).attr("id").toString(),t=$("<tr/>");$(a).append(t);var i=$("<th style='text-align:left;'>"+M.replace(/_/g," ")+":</th>");$(t).append(i);var d=$("<td><input id='txt"+M+"' type='text' value='"+$(this).html()+"'/></td>");$(t).append(d)}});var d=$("<a href='#' class='myBtn' onclick='cambiarTdValue();'>Aceptar</a><a href='#' class='myBtn' onclick='cerrarModal();'>Cancelar</a>");showModal("Editar",a,d)}function confirmBorrar(){showModal("Borrar","<img src='data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTguMS4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDMyMC44MyAzMjAuODMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyMC44MyAzMjAuODM7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMzJweCIgaGVpZ2h0PSIzMnB4Ij4KPGc+Cgk8Zz4KCQk8cGF0aCBkPSJNMjEuNjE3LDI5MC4yNDZoMjc3LjYwNGM5LjQ2OSwwLDE3LjAxMy00LjU1MywyMC4xNjgtMTIuMTg0YzIuOTA0LTcuMDExLDEuMzYtMTQuOC00LjEwNy0yMS4yMTIgICAgTDE4MC40OTcsMzkuNjg0bC0xLjMzMy0xLjMzM2MtNS4wMDktNS4wMDktMTEuNjY3LTcuNzY3LTE4Ljc0OC03Ljc2N2MtNy4wODIsMC0xMy43MzksMi43NTgtMTguNzQzLDcuNzY3bC0xLjMzMywxLjMzMyAgICBMNS41NSwyNTYuODQ0Yy01LjQ2Niw2LjQxMy03LjAxNiwxNC4yMDctNC4xMDYsMjEuMjEyQzQuNjAzLDI4NS42ODgsMTIuMTQyLDI5MC4yNDYsMjEuNjE3LDI5MC4yNDZ6IE0xNjAuNDE2LDY5LjIxMyAgICBsMTE2LjkzNCwxODguMzkzSDQzLjQ4N0wxNjAuNDE2LDY5LjIxM3oiIGZpbGw9IiNEODAwMjciLz4KCQk8cGF0aCBkPSJNMTYwLjQxNiwxMDUuMzQ1Yy05LjE5NywwLTE2LjY1NCw3LjQ1Ny0xNi42NTQsMTYuNjU0djcxLjM4OGMwLDkuMTk3LDcuNDU3LDE2LjY1NCwxNi42NTQsMTYuNjU0ICAgIHMxNi42NTQtNy40NTcsMTYuNjU0LTE2LjY1NHYtNzEuMzg4QzE3Ny4wNzYsMTEyLjgwMiwxNjkuNjE5LDEwNS4zNDUsMTYwLjQxNiwxMDUuMzQ1eiIgZmlsbD0iI0Q4MDAyNyIvPgoJCTxjaXJjbGUgY3g9IjE2MC4yNDgiIGN5PSIyMzQuOTAzIiByPSIxNi40ODYiIGZpbGw9IiNEODAwMjciLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K' /><h3> Se borrar√° el registro seleccionado</h3>","<a href='#' class='myBtn' onclick='Borrar();'>Aceptar</a><a href='#' class='myBtn' onclick='cerrarModal();'>Cancelar</a>")}function Borrar(){var M=$(".selected-row").closest("tr");$(M).remove(),cerrarModal()}function showModal(M,t,i){var a=$("<div id='divModal' style='position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,0.3);zIndex:9998;display:none;font-family:Arial'/>"),d=$("<div id='divEdit' style='text-align:center;display:none;position:absolute;left:50%;margin-left:-180px;margin-top:100px;zIndex:9999;background-color:white;border-radius:5px;border:1px solid gray;box-shadow:1px 1px 5px #666;width:360px;height:260px;'/>");$(a).append(d);var o=$("<div class='modal-body' style='padding:10px;overflow:auto;font-size:12px;border:1px solid #eee;border-width:1px 0 1px 0;height:144px;margin-top:1px;'/>");$(d).append(o);var c=$("<div id='modal-title' style='text-shadow:1px 1px 0 white;font-weight:bold;border-radius:5px 5px 0 0;padding:10px;text-align:center;background-image:linear-gradient(to top,rgb(250,250,250)0%,#ddd 100%);font-size:16px;'>"+M+"</div>");$(d).append(c),$(o).append(t),$(d).append(o);var e=$("<div id='modal-footer' style='font-size:12px;text-align:right;background-image:linear-gradient(to bottom,rgb(250,250,250)0%,#ddd 100%);padding:20px 10px;position:absolute;bottom:0;width:340px;border-radius:0 0 5px 5px;'></div>");$(e).append(i),$(d).append(e),$("body").append(a),$(a).fadeIn("fast"),$(d).slideToggle("fast")}function cerrarModal(){var M=$("#divModal");$("#divEdit").slideToggle("fast"),$(M).fadeOut("fast"),setTimeout(function(){$(M).remove()},250)}function cambiarTdValue(){var M=$(".selected-row");$(M).each(function(){var M=$("#txt"+$(this).attr("id")).val();$(this).html(M)}),cerrarModal()}